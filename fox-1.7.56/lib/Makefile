include cpp-files.mak

DEFS += -DWIN32=1 \
  -DPACKAGE_NAME="fox" -DPACKAGE_TARNAME="fox" -DPACKAGE_VERSION="1.7.56" -DPACKAGE_STRING="fox 1.7.56" \
  -DPACKAGE_BUGREPORT="jeroen@fox-toolkit.com" -DPACKAGE_URL="" -DPACKAGE="fox" -DVERSION="1.7.56" \
  -DNDEBUG \
  -DDLL_EXPORT -DPIC

# can define -DHAVE_GL_H to enable opengl

# Definitions generated by configure. Only useful for Linux build.
# -DSTDC_HEADERS=1 -DHAVE_SYS_TYPES_H=1 -DHAVE_SYS_STAT_H=1 -DHAVE_STDLIB_H=1 -DHAVE_STRING_H=1
# -DHAVE_MEMORY_H=1 -DHAVE_STRINGS_H=1 -DHAVE_INTTYPES_H=1 -DHAVE_STDINT_H=1 -DHAVE_UNISTD_H=1
# -D__EXTENSIONS__=1 -D_ALL_SOURCE=1 -D_GNU_SOURCE=1 -D_POSIX_PTHREAD_SEMANTICS=1
# -D_TANDEM_SOURCE=1 -DLT_OBJDIR=".libs/" -DX_DISPLAY_MISSING=1 -DTIME_WITH_SYS_TIME=1
# -DHAVE_DIRENT_H=1 -DHAVE_LIBPTHREAD=1 -DHAVE_SEMAPHORE_H=1 -DHAVE_IMMINTRIN_H=1

INCLUDES += -I../include

CXXCOMPILE = $(CXX) $(CXXFLAGS) $(DEFS) $(INCLUDES)

FOX_OBJ_FILES := $(FOX_SOURCE_FILES:%.cpp=%.o)
DEP_FILES := $(FOX_SOURCE_FILES:%.cpp=.deps/%.P)

DEPS_MAGIC := $(shell mkdir .deps > /dev/null 2>&1 || :)

.PHONY: clean all

all: libfox.a

libfox.a: $(FOX_OBJ_FILES)
	ar r $@ $(FOX_OBJ_FILES)

clean:
	rm *.o libfox.a

include makerules

-include $(DEP_FILES)
